<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fee Management | ‡§∂‡§ø‡§µ‡§Æ‡§† ‡§µ‡•à‡§¶‡§ø‡§ï ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø</title>

<style>
body {
  font-family: 'Mukta', sans-serif;
  margin: 0;
  background-color: #fff8e1;
}

.header {
  background-color: #ffecb3;
  padding: 15px;
  text-align: center;
  font-size: 1.8rem;
  color: #4a148c;
  font-weight: bold;
  box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

.container {
  padding: 20px;
  max-width: 1200px;
  margin: auto;
}

h2 {
  color: #4a148c;
  margin-bottom: 10px;
}

form {
  background: #fff3e0;
  padding: 20px;
  border-radius: 8px;
  margin-bottom: 20px;
  box-shadow: 1px 2px 5px rgba(0,0,0,0.1);
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
}

form input, form button {
  padding: 10px;
  border: 1px solid #e1bee7;
  border-radius: 6px;
  flex: 1 1 200px;
}

form button {
  background-color: #ffeb3b;
  color: darkred;
  font-weight: bold;
  border: none;
  cursor: pointer;
  transition: 0.3s ease;
}

form button:hover {
  background-color: #f3e5f5;
  color: #6a1b9a;
}

#searchInput {
  margin-bottom: 15px;
  padding: 10px;
  width: 100%;
  max-width: 400px;
  border-radius: 6px;
  border: 1px solid #e1bee7;
}

table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 10px;
}

table, th, td {
  border: 1px solid #e1bee7;
}

th, td {
  padding: 10px;
  text-align: left;
}

th {
  background-color: #ffecb3;
  color: #4a148c;
}

tr:nth-child(even) {
  background-color: #fff3e0;
}

.action-btn {
  padding: 5px 10px;
  margin: 0 2px;
  border: none;
  border-radius: 5px;
  cursor: pointer;
}

.edit-btn { background-color: #4a148c; color: #fff; }
.delete-btn { background-color: darkred; color: #fff; }

@media (max-width: 768px) {
  form { flex-direction: column; }
  form input, form button { max-width: 100%; }
}
</style>
</head>

<body>

<div class="header">üî± Fee Management - ‡§∂‡§ø‡§µ‡§Æ‡§† ‡§µ‡•à‡§¶‡§ø‡§ï ‡§µ‡§ø‡§¶‡•ç‡§Ø‡§æ‡§≤‡§Ø üî±</div>

<div class="container">

  <!-- Fee Form -->
  <h2>‡§´‡•Ä‡§∏ ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç / ‡§Ö‡§™‡§°‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç</h2>
  <form id="feeForm">
    <input type="text" id="studentName" placeholder="‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ" required>
    <input type="number" id="amount" placeholder="‡§∞‡§æ‡§∂‡§ø (‚Çπ)" required>
    <input type="date" id="date" required>
    <button type="submit">‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç</button>
    <input type="hidden" id="editIndex">
  </form>

  <!-- Search -->
  <input type="text" id="searchInput" placeholder="‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ ‡§Ø‡§æ ‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§∏‡•á ‡§ñ‡•ã‡§ú‡•á‡§Ç...">

  <!-- Fee Records Table -->
  <h2>‡§ú‡§Æ‡§æ ‡§ï‡•Ä ‡§ó‡§à ‡§´‡•Ä‡§∏ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§°</h2>
  <table id="feeTable">
    <thead>
      <tr>
        <th>‡§ï‡•ç‡§∞.‡§∏‡§Ç.</th>
        <th>‡§õ‡§æ‡§§‡•ç‡§∞ ‡§ï‡§æ ‡§®‡§æ‡§Æ</th>
        <th>‡§∞‡§æ‡§∂‡§ø (‚Çπ)</th>
        <th>‡§§‡§æ‡§∞‡•Ä‡§ñ</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <!-- records will appear here -->
    </tbody>
  </table>

</div>

<script>
// Data Array
let fees = [];
let feeForm = document.getElementById('feeForm');
let feeTable = document.getElementById('feeTable').getElementsByTagName('tbody')[0];
let searchInput = document.getElementById('searchInput');
let editIndexInput = document.getElementById('editIndex');

function renderTable(data) {
  feeTable.innerHTML = '';
  data.forEach((fee, index) => {
    let row = feeTable.insertRow();
    row.insertCell(0).innerText = index + 1;
    row.insertCell(1).innerText = fee.name;
    row.insertCell(2).innerText = fee.amount;
    row.insertCell(3).innerText = fee.date;

    // Actions
    let actionCell = row.insertCell(4);
    let editBtn = document.createElement('button');
    editBtn.innerText = 'Edit';
    editBtn.className = 'action-btn edit-btn';
    editBtn.onclick = () => editFee(index);
    let delBtn = document.createElement('button');
    delBtn.innerText = 'Delete';
    delBtn.className = 'action-btn delete-btn';
    delBtn.onclick = () => deleteFee(index);
    actionCell.appendChild(editBtn);
    actionCell.appendChild(delBtn);
  });
}

function editFee(index) {
  document.getElementById('studentName').value = fees[index].name;
  document.getElementById('amount').value = fees[index].amount;
  document.getElementById('date').value = fees[index].date;
  editIndexInput.value = index;
}

function deleteFee(index) {
  if(confirm('‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§µ‡§æ‡§ï‡§à ‡§á‡§∏ ‡§∞‡§ø‡§ï‡•â‡§∞‡•ç‡§° ‡§ï‡•ã ‡§π‡§ü‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡•á ‡§π‡•à‡§Ç?')) {
    fees.splice(index, 1);
    renderTable(fees);
  }
}

feeForm.addEventListener('submit', function(e) {
  e.preventDefault();
  let name = document.getElementById('studentName').value;
  let amount = document.getElementById('amount').value;
  let date = document.getElementById('date').value;

  if(editIndexInput.value !== '') {
    // Update existing
    fees[editIndexInput.value] = {name, amount, date};
    editIndexInput.value = '';
  } else {
    // Add new
    fees.push({name, amount, date});
  }

  feeForm.reset();
  renderTable(fees);
});

// Search functionality
searchInput.addEventListener('keyup', function() {
  let query = this.value.toLowerCase();
  let filtered = fees.filter(fee => fee.name.toLowerCase().includes(query) || fee.date.includes(query));
  renderTable(filtered);
});
</script>

</body>
</html>
