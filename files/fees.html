function searchStudent(){
  const name = document.getElementById("searchName").value.trim();
  if(name.length < 2) return;

  // OLD App Script compatible call
  fetch(WEB_APP_URL + "?name=" + encodeURIComponent(name))
  .then(r => r.json())
  .then(list => {
    if(!list || list.length === 0){
      document.getElementById("admno").value="";
      document.getElementById("studentName").value="";
      document.getElementById("fatherName").value="";
      document.getElementById("className").value="";
      return;
    }

    // first matched student
    const s = list[0];

    document.getElementById("admno").value = s.admno || "";
    document.getElementById("studentName").value = s.name || "";
    document.getElementById("fatherName").value = s.father || "";
    document.getElementById("className").value = s.class || "";
  });
}
